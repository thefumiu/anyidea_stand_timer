<!DOCTYPE html>
<html lang="en">
<%- include("parts/head", {title: title}) %>
<body>
    <div class="container">
        <h1 class="lb">⏳Leaderboard⏳</h1>
        <div id="lb"></div>
    </div>
</body>
<script>
    const socket = io();

    // Inside the updateLeaderboard function
    function updateLeaderboard(data) {
    const lb = document.getElementById('lb');
    lb.innerHTML = "";

    if (data.length === 0) {
        lb.innerHTML = "<div>No entries yet.</div>";
        return;
    }

    for (let i = 0; i < data.length; i++) {
        lb.innerHTML += `<div class="lb_item"><span>${i + 1}. ${data[i].username}</span><span>${data[i].time}</span></div>`;
    }
}
    // Listen for real-time updates from the server
    socket.on("update-leaderboard", data => {
        updateLeaderboard(data);
    });

    window.onload = () => {socket.emit("update-leaderboard-once");}
</script>
</html>
